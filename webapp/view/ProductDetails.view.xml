<mvc:View
	xmlns="sap.m"
	xmlns:f="sap.f"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:core="sap.ui.core" 
	xmlns:l="sap.ui.layout"
	xmlns:form="sap.ui.layout.form" 
	controllerName="yahor.andryieuski.controller.ProductDetails">
	<f:DynamicPage id="productDetailsPageId" class="sapUiNoContentPadding" showFooter="true">
		<f:title>
			<f:DynamicPageTitle>
				<f:breadcrumbs>
					<Breadcrumbs>
						<Link press="onStoresListBreadcrumbPress" text="{i18n>storesList}"/>
						<Link press="onStoreDetailsBreadcrumbPress" text="{i18n>storeDetails}"/>
						<Link text="{i18n>productDetails}"/>
					</Breadcrumbs>
				</f:breadcrumbs>

				<f:heading>
					<Title text="{
							parts: [
								'i18n>productDetails',
								'odata>Name'
							],
							formatter: '.formatTitle'
						}"
					/>
				</f:heading>
			</f:DynamicPageTitle>
		</f:title>

		<f:header>
			<f:DynamicPageHeader pinnable="true">
				<l:HorizontalLayout allowWrapping="true">
					<l:VerticalLayout class="sapUiMediumMarginEnd">
						<ObjectAttribute title="{i18n>price}" text="{odata>Price} {i18n>currency}"/>
						<ObjectAttribute title="{i18n>rating}" text="{odata>Rating}"/>
					</l:VerticalLayout>

					<l:VerticalLayout class="sapUiMediumMarginEnd">
						<ObjectAttribute title="{i18n>madeIn}" text="{odata>MadeIn}"/>
						<ObjectAttribute title="{i18n>prodCompany}" text="{odata>ProductionCompanyName}"/>
					</l:VerticalLayout>

					<l:VerticalLayout class="sapUiMediumMarginEnd">
						<ObjectStatus 
							id="productStatus" 
							title="{i18n>status}"	
							inverted="true" 
							text="{path: 'odata>Status', formatter: '.removeUnderscore'}"
						/>
					</l:VerticalLayout>
				</l:HorizontalLayout>

				<l:HorizontalLayout allowWrapping="true" class="sapUiTinyMarginTop">
					<l:VerticalLayout class="sapUiMediumMarginEnd">
						<ObjectAttribute class="sapUiTinyMarginBottom" title="{i18n>specs}" text="{odata>Specs}"/>
						<ObjectAttribute title="{i18n>supplierInfo}" text="{odata>SupplierInfo}"/>
					</l:VerticalLayout>
				</l:HorizontalLayout>
			</f:DynamicPageHeader>
		</f:header>

		<f:content>
			<VBox>
				<HBox alignItems="Center" class="sapUiSmallMarginBeginEnd sapUiSmallMarginTop">
					<Label text="{i18n>authorName}:" class="sapUiSmallMarginEnd" />
					<Input 
						id="feedAuthor" 
						placeholder="{i18n>authorNamePlaceholder}" 
						value="{
							path : 'feedModel>/Author',
							type : 'sap.ui.model.type.String',
							constraints : {
								minLength: 1
							}
						}" 
					/>

					<Label text="{i18n>rating}: " class="sapUiSmallMarginBeginEnd"/>
					<RatingIndicator 
						id="feedRating" 
						maxValue="5" 
						editable="true" 
						value="{
							path : 'feedModel>/Rating',
							type : 'sap.ui.model.type.Float',
							constraints : {
								minimum: 1,
								maximum: 5
							}
						}" 
					/>
				</HBox>

				<FeedInput id="feedText" post="onFeedPost"/>

				<List 
					showSeparators="Inner" 
					items="{
						path: 'appView>/ProductComments',
						sorter: {
							path: 'Posted',
							descending: true
						}
					}">
					<FeedListItem 
						sender="{appView>Author}"
						info="{i18n>rating}: {appView>Rating}" 
						timestamp="{i18n>posted}: {
							path: 'appView>Posted', 
							type: 'sap.ui.model.type.Date', 
							formatOptions: {style: 'medium'}
						}" 
						text="{appView>Message}" 
						convertLinksToAnchorTags="All"
					/>
				</List>
			</VBox>
		</f:content>
	</f:DynamicPage>
</mvc:View>